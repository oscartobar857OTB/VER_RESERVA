!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rifa Sammuel - N√∫meros Reservados</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to bottom, #0f172a, #1e293b);
      color: white;
      font-family: 'Segoe UI', sans-serif;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th {
      background-color: #2563eb;
      color: white;
      font-weight: bold;
      padding: 12px;
    }
    td {
      padding: 10px;
      border-bottom: 1px solid #334155;
    }
    tr:hover {
      background-color: #1e3a8a;
    }
  </style>
</head>
<body class="min-h-screen p-6">

  <h1 class="text-4xl font-bold mb-6 text-center">üìã N√∫meros Reservados - Rifa Sammuel</h1>

  <div class="overflow-x-auto bg-gray-800 rounded-lg shadow-lg p-4">
    <table id="tablaReservas" class="text-left text-lg">
      <thead>
        <tr>
          <th># N√∫mero</th>
          <th>Nombre</th>
          <th>Tel√©fono</th>
          <th>M√©todo de Pago</th>
          <th>Reservado</th>
        </tr>
      </thead>
      <tbody id="tablaBody">
        <!-- Filas din√°micas -->
      </tbody>
    </table>
  </div>

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <script>
    // Configuraci√≥n Firebase (API keys de la rifa Sammuel)
    var firebaseConfig = {
      	apiKey: "AIzaSyDo3cgRT87JQkV9kgJG2mrPnUkb5HugH9Q",
  	authDomain: "rifasammuel.firebaseapp.com",
  	projectId: "rifasammuel",
  	storageBucket: "rifasammuel.firebasestorage.app",
  	messagingSenderId: "707645550462",
  	appId: "1:707645550462:web:42735685340fb79e5d8d2f",
  	measurementId: "G-W3HY4MHHV4"
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();

    // Referencia a la colecci√≥n "numeros"
    db.collection("numeros")
      .orderBy("fechaReserva", "desc") // √∫ltimas reservas arriba
      .onSnapshot((querySnapshot) => {
        const tablaBody = document.getElementById("tablaBody");
        tablaBody.innerHTML = ""; // limpiar tabla

        querySnapshot.forEach((doc) => {
          const data = doc.data();
          const fila = `
            <tr>
              <td class="font-bold text-yellow-400">${data.numero ?? ''}</td>
              <td>${data.nombre ?? ''}</td>
              <td>${data.telefono ?? ''}</td>
              <td>${data.metodoPago ?? ''}</td>
              <td class="${data.reservado ? 'text-green-400' : 'text-red-400'} font-bold">
                ${data.reservado ? '‚úÖ S√≠' : '‚ùå No'}
              </td>
            </tr>
          `;
          tablaBody.innerHTML += fila;
        });
      });
  </script>
</body>
</html>
